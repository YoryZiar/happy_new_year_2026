<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interaktif - Tahun Baru 2026</title>
    <style>
        :root {
            --primary-gold: #f1c40f;
            --text-shadow: 0 0 20px rgba(241, 196, 15, 0.5);
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #00050a;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        /* Layer UI */
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            pointer-events: none; /* Klik tembus ke canvas */
            color: white;
            text-align: center;
        }

        .greeting {
            font-size: clamp(2rem, 8vw, 5rem);
            font-weight: 800;
            margin-bottom: 10px;
            letter-spacing: 5px;
            text-transform: uppercase;
            animation: float 3s ease-in-out infinite;
        }

        .countdown-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .time-box {
            display: flex;
            flex-direction: column;
        }

        .time-box span:first-child {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-gold);
        }

        .time-box span:last-child {
            font-size: 0.7rem;
            text-transform: uppercase;
            opacity: 0.7;
        }

        .instruction {
            position: absolute;
            bottom: 220px;
            font-size: 0.9rem;
            opacity: 0.5;
            letter-spacing: 2px;
        }

        /* Siluet Kota */
        .city-container {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 30vh;
            background: linear-gradient(transparent, #050505);
            z-index: 5;
            pointer-events: none;
        }

        .city-svg {
            position: absolute;
            bottom: 0;
            width: 100%;
            fill: #020202;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        canvas {
            display: block;
            touch-action: none;
        }
    </style>
</head>
<body>

    <div class="overlay">
        <div class="greeting">Happy New Year 2026</div>
        
        <div class="countdown-container" id="countdown">
            <div class="time-box"><span id="days">00</span><span>Hari</span></div>
            <div class="time-box"><span id="hours">00</span><span>Jam</span></div>
            <div class="time-box"><span id="minutes">00</span><span>Menit</span></div>
            <div class="time-box"><span id="seconds">00</span><span>Detik</span></div>
        </div>

        <div class="instruction">TAP / CLICK UNTUK KEMBANG API</div>
    </div>

    <div class="city-container">
        <svg class="city-svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path d="M0,120 L0,100 L20,100 L20,80 L40,80 L40,110 L60,110 L60,40 L90,40 L90,90 L120,90 L120,20 L160,20 L160,100 L190,100 L190,60 L220,60 L220,110 L250,110 L250,30 L300,30 L300,90 L340,90 L340,50 L380,50 L380,110 L420,110 L420,10 L470,10 L470,100 L510,100 L510,40 L560,40 L560,110 L600,110 L600,60 L650,60 L650,100 L700,100 L700,20 L750,20 L750,90 L800,90 L800,40 L850,40 L850,110 L900,110 L900,30 L960,30 L960,90 L1020,90 L1020,60 L1080,60 L1080,110 L1140,110 L1140,40 L1200,40 L1200,120 Z"></path>
        </svg>
    </div>

    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        let width, height;
        let fireworks = [];
        let particles = [];

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
        }

        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor(x, y, color, speed, angle) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.alpha = 1;
                this.gravity = 0.05;
                this.friction = 0.97;
                this.speed = speed;
                this.angle = angle;
                this.decay = Math.random() * 0.02 + 0.01;
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.beginPath();
                ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.restore();
            }

            update() {
                this.speed *= this.friction;
                this.x += Math.cos(this.angle) * this.speed;
                this.y += Math.sin(this.angle) * this.speed + this.gravity;
                this.alpha -= this.decay;
            }
        }

        class Firework {
            constructor(targetX, targetY) {
                this.x = Math.random() * width;
                this.y = height;
                this.targetX = targetX || Math.random() * width;
                this.targetY = targetY || Math.random() * (height * 0.5);
                this.distanceToTarget = Math.sqrt(Math.pow(this.targetX - this.x, 2) + Math.pow(this.targetY - this.y, 2));
                this.distanceTraveled = 0;
                this.angle = Math.atan2(this.targetY - this.y, this.targetX - this.x);
                this.speed = 10;
                this.color = `hsl(${Math.random() * 360}, 100%, 60%)`;
                this.done = false;
            }

            update() {
                let vx = Math.cos(this.angle) * this.speed;
                let vy = Math.sin(this.angle) * this.speed;
                this.x += vx;
                this.y += vy;
                this.distanceTraveled = Math.sqrt(Math.pow(vx, 2) + Math.pow(vy, 2));
                
                if (this.y <= this.targetY) {
                    this.explode();
                    this.done = true;
                }
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
            }

            explode() {
                for (let i = 0; i < 80; i++) {
                    particles.push(new Particle(this.x, this.y, this.color, Math.random() * 6 + 1, Math.random() * Math.PI * 2));
                }
            }
        }

        // Interaksi Klik
        window.addEventListener('mousedown', (e) => {
            fireworks.push(new Firework(e.clientX, e.clientY));
        });

        // Loop Animasi
        function loop() {
            ctx.fillStyle = 'rgba(0, 5, 10, 0.2)';
            ctx.fillRect(0, 0, width, height);

            if (Math.random() < 0.03) fireworks.push(new Firework());

            fireworks.forEach((fw, i) => {
                fw.update();
                fw.draw();
                if (fw.done) fireworks.splice(i, 1);
            });

            particles.forEach((p, i) => {
                p.update();
                p.draw();
                if (p.alpha <= 0) particles.splice(i, 1);
            });

            requestAnimationFrame(loop);
        }

        // Countdown Logic
        const targetDate = new Date("Jan 1, 2026 00:00:00").getTime();

        function updateCountdown() {
            const now = new Date().getTime();
            const diff = targetDate - now;

            if (diff <= 0) {
                document.getElementById('countdown').innerHTML = "SELAMAT TAHUN BARU!";
                return;
            }

            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('days').innerText = d.toString().padStart(2, '0');
            document.getElementById('hours').innerText = h.toString().padStart(2, '0');
            document.getElementById('minutes').innerText = m.toString().padStart(2, '0');
            document.getElementById('seconds').innerText = s.toString().padStart(2, '0');
        }

        setInterval(updateCountdown, 1000);
        loop();
    </script>
</body>
</html>
